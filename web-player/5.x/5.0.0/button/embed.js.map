{"version":3,"sources":["webpack:////Users/aktivstoff/development/podlove-ui/packages/utils/predicates.js","webpack:////Users/aktivstoff/development/podlove-ui/packages/utils/helper.js","webpack:////Users/aktivstoff/development/podlove-ui/packages/button/state/view.js","webpack:////Users/aktivstoff/development/podlove-ui/packages/button/state/finish.js","webpack:////Users/aktivstoff/development/podlove-ui/packages/button/actions/types.js","webpack:////Users/aktivstoff/development/podlove-ui/packages/button/state/config.js","webpack:///./src/store/selectors.js","webpack:///./src/embed/embed.mustache","webpack:////Users/aktivstoff/development/podlove-ui/packages/button/state/theme.js","webpack:////Users/aktivstoff/development/podlove-ui/packages/utils/dom.js","webpack:////Users/aktivstoff/development/podlove-ui/packages/utils/sandbox.js","webpack:////Users/aktivstoff/development/podlove-ui/packages/button/actions/lifecycle.js","webpack:///./src/embed/config.js","webpack:///./src/embed/sandbox.js","webpack:///./src/embed/overlay.js","webpack:///./embed.js"],"names":["p1","p2","p","isUndefinedOrNull","x","undefined","isNil","createObject","curry","specification","value","map","f","scope","selectors","context","identity","Object","keys","reduce","result","key","compose","startsWith","q","str","endsWith","stripl","slice","length","stripr","join","juxt","toUpper","head","tail","reducer","handleActions","SHOW_LIST","state","finish","list","SHOW_OVERLAY","overlay","HIDE_OVERLAY","SHOW_FINISH_CARD","prop","INITIAL_STATE","icon","install","title","link","os","rss","type","_","payload","INIT","HIDE_LIST","HIDE_FINISH_CARD","size","color","format","style","headless","cover","configSlice","propOr","clients","slices","config","theme","view","feed","selectColor","selectCover","selectFormat","selectSize","selectStyle","fontString","weight","family","font","themeSelectors","fonts","fontRegular","fontBold","fontCi","viewSelectors","finishSelectors","H","module","exports","T","Template","code","c","i","t","this","b","v","s","rs","d","pop","fl","partials","subs","render","apply","arguments","TOKENS","brand","brandDark","brandDarkest","brandLightest","shadeDark","shadeBase","contrast","alt","tokens","FONTS","ci","name","src","regular","bold","normalizeFont","path","extractFonts","getTokens","extractTokens","themeColors","themeFonts","findNode","selector","document","querySelectorAll","appendNode","node","child","appendChild","setStyles","tag","attributes","attr","attribute","attrs","el","forEach","property","removeStyles","removeProperty","getClasses","filter","className","split","setAttributes","classes","uniq","concat","indexOf","setAttribute","iframe","element","cb","MutationObserver","observe","childList","window","addEventListener","seamless","scrolling","frameborder","height","createElement","sandboxWindow","sandboxDocument","inject","anchor","frame","setFrameSize","width","offsetWidth","content","sandbox","Promise","resolve","sdbxWindow","doc","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","open","write","close","onLoad","readyState","setTimeout","then","init","createAction","request","url","a","fetch","res","json","input","additional","Error","mergeDeepRight","entry","reference","BASE","buttonDom","embedButtonDom","version","VERSION","base","styles","STYLES","scripts","SCRIPTS","resizer","iframeResizerContentWindow","fullWidth","subscribeButton","iframeResizer","checkOrigin","log","sizeWidth","sizeHeight","maxHeight","innerHeight","overlayStyles","position","top","left","store","subscribe","getState","select","button","parseConfig","dispatch","overlayStyle"],"mappings":"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","file":"embed.js","sourcesContent":["import { isNil } from 'ramda'\n\nexport const or = (p1, p2) => x => p1(x) || p2(x)\nexport const and = (p1, p2) => x => p1(x) && p2(x)\nexport const not = p => x => !p(x)\nexport const isUndefined = x => x === undefined\n\nexport const isUndefinedOrNull = or(isUndefined, isNil)\nexport const isDefinedAndNotNull = not(isUndefinedOrNull)\n","import { curry, map, compose, join, toUpper, juxt, head, tail, identity } from 'ramda'\nimport { isUndefinedOrNull } from './predicates'\n\n/**\n * Collection of functional helpers\n */\n\nexport const inAnimationFrame = func => (...args) =>\n  window.requestAnimationFrame(() => func.apply(null, args))\n\nexport const asyncAnimation = func => (...args) =>\n  new Promise(resolve => {\n    window.requestAnimationFrame(resolve(func.apply(null, args)))\n  })\n\nexport const callWith = (...args) => func => func.apply(null, args)\n\n// Math helpers\nexport const toInt = (input = 0) => (isNaN(parseInt(input, 10)) ? 0 : parseInt(input, 10))\nexport const toFloat = (input = 0) => (isNaN(parseFloat(input)) ? 0 : parseFloat(input))\n\n// Functional Helper\nexport const fallbackTo = fallback => value => (isUndefinedOrNull(value) ? fallback : value)\nexport const createObject = curry((specification, value) => map(f => f(value), specification))\nexport const scope = curry((selectors = {}, context = identity) =>\n  Object.keys(selectors).reduce(\n    (result, key) => ({\n      ...result,\n      [key]: compose(\n        selectors[key],\n        context\n      )\n    }),\n    {}\n  )\n)\nexport const startsWith = curry((q, str) => str.startsWith(q))\nexport const endsWith = curry((q, str) => str.endsWith(q))\nexport const stripl = curry((q, str) => (startsWith(q, str) ? str.slice(q.length) : str))\nexport const stripr = curry((q, str) =>\n  endsWith(q, str) ? str.slice(0, str.length - q.length) : str\n)\nexport const strip = curry((q, str) => stripl(q, stripr(q, str)))\nexport const capitalize = compose(\n  join(''),\n  juxt([\n    compose(\n      toUpper,\n      head\n    ),\n    tail\n  ])\n)\n","import { prop } from 'ramda'\nimport { handleActions } from 'redux-actions'\n\nimport {\n  SHOW_OVERLAY,\n  HIDE_OVERLAY,\n  SHOW_LIST,\n  SHOW_FINISH_CARD\n} from '@podlove/button-actions/types'\n\nexport const INITIAL_STATE = {\n  overlay: false,\n  finish: false,\n  list: true\n}\n\nexport const reducer = handleActions(\n  {\n    [SHOW_LIST]: state => ({ ...state, finish: false, list: true }),\n    [SHOW_OVERLAY]: state => ({ ...state, overlay: true }),\n    [HIDE_OVERLAY]: state => ({ ...state, overlay: false, finish: false, list: true }),\n    [SHOW_FINISH_CARD]: state => ({ ...state, list: false, finish: true })\n  },\n  INITIAL_STATE\n)\n\nexport const selectors = {\n  overlay: prop('overlay'),\n  finish: prop('finish'),\n  list: prop('list')\n}\n","import { prop } from 'ramda'\nimport { handleActions } from 'redux-actions'\n\nimport { HIDE_OVERLAY, SHOW_FINISH_CARD } from '@podlove/button-actions/types'\n\nexport const INITIAL_STATE = {\n  icon: null,\n  install: null,\n  title: null,\n  link: null,\n  os: null,\n  rss: null,\n  type: null\n}\n\nexport const reducer = handleActions(\n  {\n    [SHOW_FINISH_CARD]: (_, { payload }) => payload,\n    [HIDE_OVERLAY]: () => INITIAL_STATE\n  },\n  INITIAL_STATE\n)\n\nexport const selectors = {\n  overlay: prop('install'),\n  finish: prop('title'),\n  icon: prop('icon'),\n  link: prop('link'),\n  os: prop('os'),\n  rss: prop('rss'),\n  type: prop('type'),\n  install: prop('install')\n}\n","export const INIT = 'BUTTON_INIT'\n\nexport const SHOW_LIST = 'BUTTON_SHOW_LIST'\nexport const HIDE_LIST = 'BUTTON_HIDE_LIST'\n\nexport const SHOW_OVERLAY = 'BUTTON_SHOW_OVERLAY'\nexport const HIDE_OVERLAY = 'BUTTON_HIDE_OVERLAY'\n\nexport const SHOW_FINISH_CARD = 'BUTTON_SHOW_FINISH_CARD'\nexport const HIDE_FINISH_CARD = 'BUTTON_HIDE_FINISH_CARD'\n","import { handleActions } from 'redux-actions'\nimport { prop } from 'ramda'\nimport { INIT } from '@podlove/button-actions/types'\n\nexport const INIT_STATE = {\n  size: 'big',\n  color: '#c90bd6',\n  format: 'cover',\n  style: 'filled',\n  headless: true,\n  cover: null\n}\n\nexport const reducer = handleActions(\n  { [INIT]: (state, { payload }) => ({ ...state, ...payload }) },\n  INIT_STATE\n)\n\nexport const color = prop('color')\nexport const cover = prop('cover')\nexport const format = prop('format')\nexport const size = prop('size')\nexport const style = prop('style')\nexport const headless = prop('headless')\n","import * as config from '@podlove/button-state/config'\nimport { selectors as viewSelectors } from '@podlove/button-state/view'\nimport { selectors as themeSelectors } from '@podlove/button-state/theme'\nimport { selectors as finishSelectors } from '@podlove/button-state/finish'\nimport { propOr, compose } from 'ramda'\nimport { scope } from '@podlove/utils/helper'\n\nexport const configSlice = propOr({}, 'config')\nexport const metadataSlice = propOr({}, 'metadata')\nexport const viewSlice = propOr({}, 'view')\nexport const clients = propOr([], 'clients')\n\nexport const slices = {\n  config: propOr({}, 'config'),\n  theme: propOr({}, 'theme'),\n  view: propOr({}, 'view'),\n  finish: propOr({}, 'finish'),\n  feed: propOr({}, 'feed')\n}\n\nexport const selectColor = compose(\n  config.color,\n  configSlice\n)\nexport const selectCover = compose(\n  config.cover,\n  configSlice\n)\nexport const selectFormat = compose(\n  config.format,\n  configSlice\n)\nexport const selectSize = compose(\n  config.size,\n  configSlice\n)\nexport const selectStyle = compose(\n  config.style,\n  configSlice\n)\n\nexport const headless = compose(\n  config.headless,\n  configSlice\n)\n\nconst fontString = ({ weight = 300, family = [] } = {}) => ({\n  'font-family': family.map(font => `\"${font}\"`).join(', '),\n  'font-weight': weight\n})\n\nexport const theme = {\n  ...scope(themeSelectors, slices.theme),\n  fonts: compose(\n    state => [\n      themeSelectors.fontRegular(state),\n      themeSelectors.fontBold(state),\n      themeSelectors.fontCi(state)\n    ],\n    slices.theme\n  ),\n  fontRegular: compose(\n    fontString,\n    themeSelectors.fontRegular,\n    slices.theme\n  ),\n  fontBold: compose(\n    fontString,\n    themeSelectors.fontBold,\n    slices.theme\n  ),\n  fontCi: compose(\n    fontString,\n    themeSelectors.fontCi,\n    slices.theme\n  )\n}\n\nexport const view = scope(viewSelectors, slices.view)\n\nexport const finish = scope(finishSelectors, slices.finish)\n\nexport const feed = slices.feed\n","var H = require(\"hogan.js\");\nmodule.exports = function() { var T = new H.Template({code: function (c,p,i) { var t=this;t.b(i=i||\"\");t.b(\"<script type=\\\"text/javascript\\\">window.resourceBaseUrl = '\");t.b(t.v(t.f(\"base\",c,p,0)));t.b(\"';</script><div id=\\\"subscribe-button\\\"><subscribe-button></subscribe-button></div> \");if(t.s(t.f(\"styles\",c,p,1),c,p,0,160,214,\"{{ }}\")){t.rs(c,p,function(c,p,t){t.b(\" <link rel=\\\"stylesheet\\\" href=\\\"\");t.b(t.v(t.f(\"base\",c,p,0)));t.b(t.v(t.d(\".\",c,p,0)));t.b(\".css\\\"> \");});c.pop();}t.b(\" \");if(t.s(t.f(\"scripts\",c,p,1),c,p,0,238,307,\"{{ }}\")){t.rs(c,p,function(c,p,t){t.b(\" <script type=\\\"text/javascript\\\" src=\\\"\");t.b(t.v(t.f(\"base\",c,p,0)));t.b(t.v(t.d(\".\",c,p,0)));t.b(\".js\\\"></script> \");});c.pop();}t.b(\" <script>window.iFrameResizer = {\");t.b(\"\\n\" + i);t.b(\"    widthCalculationMethod: function () {\");t.b(\"\\n\" + i);t.b(\"      if (document.getElementById('breakout')) {\");t.b(\"\\n\" + i);t.b(\"        return window.parent.innerWidth\");t.b(\"\\n\" + i);t.b(\"      }\");t.b(\"\\n\");t.b(\"\\n\" + i);t.b(\"      return document.getElementById('subscribe-button').offsetWidth\");t.b(\"\\n\" + i);t.b(\"    },\");t.b(\"\\n\" + i);t.b(\"    heightCalculationMethod: function () {\");t.b(\"\\n\" + i);t.b(\"      if (document.getElementById('breakout')) {\");t.b(\"\\n\" + i);t.b(\"        return window.parent.innerHeight\");t.b(\"\\n\" + i);t.b(\"      }\");t.b(\"\\n\");t.b(\"\\n\" + i);t.b(\"      return document.getElementById('subscribe-button').offsetHeight\");t.b(\"\\n\" + i);t.b(\"    }\");t.b(\"\\n\" + i);t.b(\"  } \");t.b(t.t(t.f(\"resizer\",c,p,0)));t.b(\"</script><style>#subscribe-button {\");t.b(\"\\n\" + i);t.b(\"    display: inline-block;\");t.b(\"\\n\" + i);t.b(\"  }</style>\");return t.fl(); },partials: {}, subs: {  }}, \"<script type=\\\"text/javascript\\\">window.resourceBaseUrl = '{{ base }}';</script><div id=\\\"subscribe-button\\\"><subscribe-button></subscribe-button></div> {{#styles}} <link rel=\\\"stylesheet\\\" href=\\\"{{ base }}{{ . }}.css\\\"> {{/styles}} {{#scripts}} <script type=\\\"text/javascript\\\" src=\\\"{{ base }}{{ . }}.js\\\"></script> {{/scripts}} <script>window.iFrameResizer = {\\n    widthCalculationMethod: function () {\\n      if (document.getElementById('breakout')) {\\n        return window.parent.innerWidth\\n      }\\n\\n      return document.getElementById('subscribe-button').offsetWidth\\n    },\\n    heightCalculationMethod: function () {\\n      if (document.getElementById('breakout')) {\\n        return window.parent.innerHeight\\n      }\\n\\n      return document.getElementById('subscribe-button').offsetHeight\\n    }\\n  } {{{ resizer }}}</script><style>#subscribe-button {\\n    display: inline-block;\\n  }</style>\", H);return T.render.apply(T, arguments); };","import { prop, compose, propOr, path } from 'ramda'\nimport { handleActions } from 'redux-actions'\nimport { createObject } from '@podlove/utils/helper'\nimport { INIT } from '@podlove/button-actions/types'\n\nconst theme = propOr({}, 'theme')\n\nconst TOKENS = {\n  brand: '#E64415',\n  brandDark: '#235973',\n  brandDarkest: '#1A3A4A',\n  brandLightest: '#E9F1F5',\n  shadeDark: '#807E7C',\n  shadeBase: '#807E7C',\n  contrast: '#000',\n  alt: '#fff'\n}\n\nexport const tokens = {\n  brand: propOr(TOKENS.brand, 'brand'),\n  brandDark: propOr(TOKENS.brandDark, 'brandDark'),\n  brandDarkest: propOr(TOKENS.brandDarkest, 'brandDarkest'),\n  brandLightest: propOr(TOKENS.brandLightest, 'brandLightest'),\n  shadeDark: propOr(TOKENS.shadeDark, 'shadeDark'),\n  shadeBase: propOr(TOKENS.shadeBase, 'shadeBase'),\n  contrast: propOr(TOKENS.contrast, 'contrast'),\n  alt: propOr(TOKENS.alt, 'alt')\n}\n\nexport const FONTS = {\n  ci: {\n    name: 'ci',\n    family: [\n      '-apple-system',\n      'BlinkMacSystemFont',\n      'Segoe UI',\n      'Roboto',\n      'Helvetica',\n      'Arial',\n      'sans-serif',\n      'Apple Color Emoji',\n      'Segoe UI Emoji\", \"Segoe UI Symbol'\n    ],\n    src: [],\n    weight: 800\n  },\n  regular: {\n    name: 'regular',\n    family: [\n      '-apple-system',\n      'BlinkMacSystemFont',\n      'Segoe UI',\n      'Roboto',\n      'Helvetica',\n      'Arial',\n      'sans-serif',\n      'Apple Color Emoji',\n      'Segoe UI Emoji\", \"Segoe UI Symbol'\n    ],\n    src: [],\n    weight: 300\n  },\n  bold: {\n    name: 'bold',\n    family: [\n      '-apple-system',\n      'BlinkMacSystemFont',\n      'Segoe UI',\n      'Roboto',\n      'Helvetica',\n      'Arial',\n      'sans-serif',\n      'Apple Color Emoji',\n      'Segoe UI Emoji\", \"Segoe UI Symbol'\n    ],\n    src: [],\n    weight: 700\n  }\n}\n\nconst normalizeFont = type =>\n  createObject({\n    family: propOr(path([type, 'family'], FONTS), 'family'),\n    weight: propOr(path([type, 'weight'], FONTS), 'weight'),\n    name: propOr(path([type, 'name'], FONTS), 'name'),\n    src: propOr([], 'src')\n  })\n\nconst extractFonts = createObject({\n  regular: compose(\n    normalizeFont('regular'),\n    propOr(FONTS.regular, 'regular'),\n    propOr({}, 'fonts'),\n    theme\n  ),\n  bold: compose(\n    normalizeFont('bold'),\n    propOr(FONTS.bold, 'bold'),\n    propOr({}, 'fonts'),\n    theme\n  ),\n  ci: compose(\n    normalizeFont('ci'),\n    propOr(FONTS.ci, 'ci'),\n    propOr({}, 'fonts'),\n    theme\n  )\n})\n\nconst getTokens = propOr({}, 'tokens')\n\nconst extractTokens = createObject({\n  brand: compose(\n    tokens.brand,\n    getTokens,\n    theme\n  ),\n  brandDark: compose(\n    tokens.brandDark,\n    getTokens,\n    theme\n  ),\n  brandDarkest: compose(\n    tokens.brandDarkest,\n    getTokens,\n    theme\n  ),\n  brandLightest: compose(\n    tokens.brandLightest,\n    getTokens,\n    theme\n  ),\n  shadeDark: compose(\n    tokens.shadeDark,\n    getTokens,\n    theme\n  ),\n  shadeBase: compose(\n    tokens.shadeBase,\n    getTokens,\n    theme\n  ),\n  contrast: compose(\n    tokens.contrast,\n    getTokens,\n    theme\n  ),\n  alt: compose(\n    tokens.alt,\n    getTokens,\n    theme\n  )\n})\n\nexport const INITIAL_STATE = {\n  tokens: TOKENS,\n  fonts: FONTS\n}\n\nexport const reducer = handleActions(\n  {\n    [INIT]: (_, { payload }) => ({\n      tokens: extractTokens(payload),\n      fonts: extractFonts(payload)\n    })\n  },\n  INITIAL_STATE\n)\n\nconst themeColors = propOr({}, 'tokens')\nconst themeFonts = propOr({}, 'fonts')\n\nexport const selectors = {\n  brand: compose(\n    prop('brand'),\n    themeColors\n  ),\n  brandDark: compose(\n    prop('brandDark'),\n    themeColors\n  ),\n  brandDarkest: compose(\n    prop('brandDarkest'),\n    themeColors\n  ),\n  brandLightest: compose(\n    prop('brandLightest'),\n    themeColors\n  ),\n  shadeDark: compose(\n    prop('shadeDark'),\n    themeColors\n  ),\n  shadeBase: compose(\n    prop('shadeBase'),\n    themeColors\n  ),\n  contrast: compose(\n    prop('contrast'),\n    themeColors\n  ),\n  alt: compose(\n    prop('alt'),\n    themeColors\n  ),\n  fontRegular: compose(\n    prop('regular'),\n    themeFonts\n  ),\n  fontBold: compose(\n    prop('bold'),\n    themeFonts\n  ),\n  fontCi: compose(\n    prop('ci'),\n    themeFonts\n  )\n}\n","import { curry, compose, uniq, concat, join, filter, identity, head } from 'ramda'\nimport DOMPurify from 'dompurify'\n\nexport const findNode = selector =>\n  typeof selector === 'string' ? head(document.querySelectorAll(selector)) : selector\n\nexport const createNode = tag => document.createElement(tag)\nexport const appendNode = curry((node, child) => {\n  node.appendChild(child)\n\n  return child\n})\n\nexport const tag = curry((tag, value = '', attributes) => {\n  let attr = Object.keys(attributes || {})\n    .map(attribute => ` ${attribute}=\"${attributes[attribute]}\"`)\n    .join('')\n  return `<${tag}${attr}>${value}</${tag}>`\n})\n\nexport const setStyles = curry((attrs, el) => {\n  Object.keys(attrs).forEach(property => {\n    el.style[property] = attrs[property]\n  })\n\n  return el\n})\n\nexport const removeStyles = curry((attrs, el) => {\n  ;(attrs || []).forEach(attr => {\n    el.style.removeProperty(attr)\n  })\n})\n\nexport const getClasses = compose(\n  filter(identity),\n  el => el.className.split(' ')\n)\n\nexport const hasOverflow = el => el.scrollWidth > el.clientWidth\n\nexport const addClasses = curry((classes = [], el) => {\n  el.className = compose(\n    join(' '),\n    uniq,\n    concat(classes),\n    getClasses\n  )(el)\n\n  return el\n})\n\nexport const removeClasses = curry((classes = [], el) => {\n  el.className = compose(\n    join(' '),\n    filter(className => !~classes.indexOf(className)),\n    getClasses\n  )(el)\n\n  return el\n})\n\nexport const sanitize = input => {\n  if (!input || typeof window === 'undefined') {\n    return input\n  }\n\n  const purify = DOMPurify(window)\n\n  // Adds target=\"_blank\" to parsed links\n  purify.addHook('afterSanitizeElements', node => {\n    if (node.tagName === 'A') {\n      node.setAttribute('target', '_blank')\n    }\n\n    return node\n  })\n\n  return purify.sanitize(input, {\n    ALLOWED_TAGS: ['b', 'i', 'em', 'strong', 'a', 'br', 'p', 'ul', 'li', 'ol', 'br'],\n    ALLOWED_ATTR: ['href', 'target']\n  })\n}\n\nexport const setAttributes = curry((attrs, el) => {\n  Object.keys(attrs).forEach(property => {\n    el.setAttribute(property, attrs[property])\n  })\n\n  return el\n})\n\nexport const resizeObserver = curry((element, cb) => {\n  const observer = new MutationObserver(cb)\n\n  observer.observe(element, { childList: true })\n  window.addEventListener('resize', cb)\n})\n","import { compose, curry, prop } from 'ramda'\nimport { createNode, appendNode, setAttributes, setStyles } from './dom'\n\nconst iframe = compose(\n  setAttributes({\n    'min-width': '100%',\n    seamless: '',\n    scrolling: 'no',\n    frameborder: '0'\n  }),\n  setStyles({\n    height: 'auto'\n  }),\n  createNode\n)\n\nconst createFrame = () => new Promise(resolve => resolve(iframe('iframe')))\n\nexport const sandboxWindow = prop('contentWindow')\nexport const sandboxDocument = compose(\n  prop('document'),\n  sandboxWindow\n)\n\nexport const resize = curry((anchor, frame) => {\n  const setFrameSize = () => setAttributes({ width: anchor.offsetWidth }, frame)\n\n  setFrameSize()\n\n  // Reset the width on window load\n  window.addEventListener('load', setFrameSize)\n\n  // Reset the width on viewport resize\n  window.addEventListener('resize', setFrameSize)\n\n  return frame\n})\n\nconst inject = curry(\n  (content, sandbox) =>\n    new Promise(resolve => {\n      const sdbxWindow = sandboxWindow(sandbox)\n      const doc = sandboxDocument(sandbox)\n\n      // transfer global window functions to sandbox\n      if (window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) {\n        sdbxWindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ =\n          window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n      }\n\n      const onLoad = () => {\n        if (doc.readyState === 'complete') {\n          return resolve(sandbox)\n        }\n\n        return setTimeout(onLoad, 150)\n      }\n\n      doc.open()\n      doc.write(content)\n      doc.close()\n\n      onLoad()\n    })\n)\n\nexport const sandbox = curry((anchor, content) =>\n  createFrame()\n    .then(appendNode(anchor))\n    .then(inject(content))\n)\n","import { createAction } from 'redux-actions'\nimport { INIT } from './types'\n\nexport const init = createAction(INIT)\n","/* eslint-disable no-console */\nimport { mergeDeepRight } from 'ramda'\n\nconst request = async url => fetch(url).then(res => res.json())\n\nexport default async (input = {}, additional = {}) => {\n  let config\n\n  try {\n    config = typeof input === 'string' ? await request(input) : input\n  } catch (err) {\n    throw new Error(`Couldn't parse configuration \"${input}\"`)\n  }\n\n  return mergeDeepRight(config, additional)\n}\n","/* global BASE, STYLES, SCRIPTS, MODE, VERSION */\nimport { propOr } from 'ramda'\nimport { sandbox } from '@podlove/utils/sandbox'\nimport { iframeResizer } from 'iframe-resizer'\n\n// eslint-disable-next-line\nimport iframeResizerContentWindow from 'raw-loader!iframe-resizer/js/iframeResizer.contentWindow.min.js'\nimport embedButtonDom from './embed.mustache'\n\nexport default async (config, entry) => {\n  const reference = MODE === 'cdn' ? BASE : propOr(BASE, 'base', config)\n\n  const buttonDom = embedButtonDom({\n    version: VERSION,\n    base: reference,\n    styles: STYLES,\n    scripts: SCRIPTS,\n    resizer: iframeResizerContentWindow\n  })\n\n  const subscribeButton = await sandbox(entry, buttonDom, { fullWidth: false })\n\n  iframeResizer(\n    {\n      checkOrigin: false,\n      log: false,\n      sizeWidth: true,\n      sizeHeight: true,\n      maxHeight: window.innerHeight - 20\n    },\n    subscribeButton\n  )\n\n  return subscribeButton\n}\n","import { setStyles, removeStyles } from '@podlove/utils/dom'\nimport * as select from 'store/selectors'\n\nconst overlayStyles = {\n  position: 'fixed',\n  width: '100%',\n  height: '100%',\n  top: 0,\n  left: 0\n}\n\nexport default (store, entry) => {\n  store.subscribe(() => {\n    const state = store.getState()\n    if (select.view.overlay(state)) {\n      setStyles(overlayStyles, entry)\n    } else {\n      removeStyles(Object.keys(overlayStyles), entry)\n    }\n  })\n}\n","import { prop } from 'ramda'\nimport { findNode } from '@podlove/utils/dom'\nimport { sandboxWindow } from '@podlove/utils/sandbox'\n\nimport { init } from '@podlove/button-actions/lifecycle'\nimport parseConfig from './src/embed/config'\nimport sandbox from './src/embed/sandbox'\nimport overlayStyle from './src/embed/overlay'\n\nasync function embed(selector, button, additional) {\n  const config = await parseConfig(button, additional)\n  const entry = findNode(selector)\n  const subscribeButton = await sandbox(config, entry)\n\n  const store = prop('PSB_STORE', sandboxWindow(subscribeButton))\n\n  store.dispatch(init(config))\n  overlayStyle(store, entry)\n\n  return store\n}\n\nif (typeof window['podloveSubscribeButton'] === 'undefined') {\n  window['podloveSubscribeButton'] = embed\n}\n"],"sourceRoot":""}