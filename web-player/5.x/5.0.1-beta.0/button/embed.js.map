{"version":3,"sources":["webpack:////drone/src/packages/button/state/config.js","webpack:///./src/store/selectors.js","webpack:////drone/src/packages/utils/dom.js","webpack:////drone/src/packages/utils/sandbox.js","webpack:////drone/src/packages/button/actions/lifecycle.js","webpack:///./src/embed/config.js","webpack:///./src/embed/sandbox.js","webpack:///./src/embed/overlay.js","webpack:///./embed.js","webpack:////drone/src/packages/utils/predicates.js","webpack:////drone/src/packages/utils/helper.js","webpack:////drone/src/packages/button/state/theme.js","webpack:////drone/src/packages/button/config/index.js","webpack:////drone/src/packages/button/state/view.js","webpack:////drone/src/packages/button/state/finish.js","webpack:////drone/src/packages/button/state/runtime.js","webpack:////drone/src/packages/button/actions/types.js","webpack:///./src/embed/embed.mustache"],"names":["handleActions","INIT","state","payload","size","color","format","style","headless","cover","prop","configSlice","propOr","clients","slices","config","theme","view","finish","feed","runtime","fontString","compose","weight","family","map","font","join","scope","themeSelectors","fonts","fontRegular","fontBold","fontCi","viewSelectors","finishSelectors","runtimeSelectors","findNode","selector","head","document","querySelectorAll","appendNode","curry","node","child","appendChild","setStyles","tag","value","attributes","attr","Object","keys","attribute","attrs","el","forEach","property","removeStyles","removeProperty","getClasses","filter","identity","className","split","setAttributes","classes","uniq","concat","indexOf","setAttribute","iframe","element","cb","MutationObserver","observe","childList","window","addEventListener","seamless","scrolling","frameborder","height","createElement","sandboxWindow","sandboxDocument","inject","anchor","frame","setFrameSize","width","offsetWidth","content","sandbox","Promise","resolve","sdbxWindow","doc","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","open","write","close","onLoad","readyState","setTimeout","then","init","createAction","request","url","a","fetch","res","json","input","additional","Error","mergeDeepRight","entry","reference","BASE","buttonDom","embedButtonDom","version","VERSION","base","styles","STYLES","scripts","SCRIPTS","resizer","iframeResizerContentWindow","fullWidth","subscribeButton","iframeResizer","checkOrigin","log","sizeWidth","sizeHeight","maxHeight","innerHeight","overlayStyles","position","top","left","store","subscribe","getState","select","overlay","button","parseConfig","dispatch","overlayStyle","p1","p2","p","isUndefinedOrNull","x","undefined","isNil","createObject","specification","f","selectors","context","reduce","result","key","startsWith","q","str","endsWith","stripl","slice","length","stripr","juxt","toUpper","tail","TOKENS","brand","brandDark","brandDarkest","brandLightest","shadeDark","shadeBase","contrast","alt","tokens","FONTS","ci","name","src","regular","bold","normalizeFont","type","path","extractFonts","getTokens","extractTokens","INITIAL_STATE","reducer","_","themeColors","themeFonts","language","SHOW_LIST","list","SHOW_OVERLAY","HIDE_OVERLAY","SHOW_FINISH_CARD","icon","install","title","link","os","rss","SET_LANGUAGE","SET_RUNTIME","browser","locale","platform","SET_VERSION","HIDE_LIST","HIDE_FINISH_CARD","H","module","exports","T","Template","code","c","i","t","this","b","v","s","rs","d","pop","fl","partials","subs","render","apply","arguments"],"mappings":"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","file":"embed.js","sourcesContent":["import { handleActions } from 'redux-actions'\nimport { prop } from 'ramda'\nimport { INIT } from '@podlove/button-actions/types'\n\nexport const INIT_STATE = {\n  size: 'big',\n  color: '#c90bd6',\n  format: 'cover',\n  style: 'filled',\n  headless: true,\n  cover: null\n}\n\nexport const reducer = handleActions(\n  { [INIT]: (state, { payload }) => ({ ...state, ...payload }) },\n  INIT_STATE\n)\n\nexport const color = prop('color')\nexport const cover = prop('cover')\nexport const format = prop('format')\nexport const size = prop('size')\nexport const style = prop('style')\nexport const headless = prop('headless')\n","import * as config from '@podlove/button-state/config'\nimport { selectors as viewSelectors } from '@podlove/button-state/view'\nimport { selectors as themeSelectors } from '@podlove/button-state/theme'\nimport { selectors as finishSelectors } from '@podlove/button-state/finish'\nimport { selectors as runtimeSelectors } from '@podlove/button-state/runtime'\nimport { propOr, compose } from 'ramda'\nimport { scope } from '@podlove/utils/helper'\n\nexport const configSlice = propOr({}, 'config')\nexport const metadataSlice = propOr({}, 'metadata')\nexport const viewSlice = propOr({}, 'view')\nexport const clients = propOr([], 'clients')\n\nexport const slices = {\n  config: propOr({}, 'config'),\n  theme: propOr({}, 'theme'),\n  view: propOr({}, 'view'),\n  finish: propOr({}, 'finish'),\n  feed: propOr({}, 'feed'),\n  runtime: propOr({}, 'runtime')\n}\n\nexport const selectColor = compose(\n  config.color,\n  configSlice\n)\nexport const selectCover = compose(\n  config.cover,\n  configSlice\n)\nexport const selectFormat = compose(\n  config.format,\n  configSlice\n)\nexport const selectSize = compose(\n  config.size,\n  configSlice\n)\nexport const selectStyle = compose(\n  config.style,\n  configSlice\n)\n\nexport const headless = compose(\n  config.headless,\n  configSlice\n)\n\nconst fontString = ({ weight = 300, family = [] } = {}) => ({\n  'font-family': family.map(font => `\"${font}\"`).join(', '),\n  'font-weight': weight\n})\n\nexport const theme = {\n  ...scope(themeSelectors, slices.theme),\n  fonts: compose(\n    state => [\n      themeSelectors.fontRegular(state),\n      themeSelectors.fontBold(state),\n      themeSelectors.fontCi(state)\n    ],\n    slices.theme\n  ),\n  fontRegular: compose(\n    fontString,\n    themeSelectors.fontRegular,\n    slices.theme\n  ),\n  fontBold: compose(\n    fontString,\n    themeSelectors.fontBold,\n    slices.theme\n  ),\n  fontCi: compose(\n    fontString,\n    themeSelectors.fontCi,\n    slices.theme\n  )\n}\n\nexport const view = scope(viewSelectors, slices.view)\n\nexport const finish = scope(finishSelectors, slices.finish)\n\nexport const runtime = scope(runtimeSelectors, slices.runtime)\n\nexport const feed = slices.feed\n","import { curry, compose, uniq, concat, join, filter, identity, head } from 'ramda'\nimport DOMPurify from 'dompurify'\n\nexport const findNode = selector =>\n  typeof selector === 'string' ? head(document.querySelectorAll(selector)) : selector\n\nexport const createNode = tag => document.createElement(tag)\nexport const appendNode = curry((node, child) => {\n  node.appendChild(child)\n\n  return child\n})\n\nexport const tag = curry((tag, value = '', attributes) => {\n  let attr = Object.keys(attributes || {})\n    .map(attribute => ` ${attribute}=\"${attributes[attribute]}\"`)\n    .join('')\n  return `<${tag}${attr}>${value}</${tag}>`\n})\n\nexport const setStyles = curry((attrs, el) => {\n  Object.keys(attrs).forEach(property => {\n    el.style[property] = attrs[property]\n  })\n\n  return el\n})\n\nexport const removeStyles = curry((attrs, el) => {\n  ;(attrs || []).forEach(attr => {\n    el.style.removeProperty(attr)\n  })\n})\n\nexport const getClasses = compose(\n  filter(identity),\n  el => el.className.split(' ')\n)\n\nexport const hasOverflow = el => el.scrollWidth > el.clientWidth\n\nexport const addClasses = curry((classes = [], el) => {\n  el.className = compose(\n    join(' '),\n    uniq,\n    concat(classes),\n    getClasses\n  )(el)\n\n  return el\n})\n\nexport const removeClasses = curry((classes = [], el) => {\n  el.className = compose(\n    join(' '),\n    filter(className => !~classes.indexOf(className)),\n    getClasses\n  )(el)\n\n  return el\n})\n\nexport const sanitize = input => {\n  if (!input || typeof window === 'undefined') {\n    return input\n  }\n\n  const purify = DOMPurify(window)\n\n  // Adds target=\"_blank\" to parsed links\n  purify.addHook('afterSanitizeElements', node => {\n    if (node.tagName === 'A') {\n      node.setAttribute('target', '_blank')\n    }\n\n    return node\n  })\n\n  return purify.sanitize(input, {\n    ALLOWED_TAGS: ['b', 'i', 'em', 'strong', 'a', 'br', 'p', 'ul', 'li', 'ol', 'br'],\n    ALLOWED_ATTR: ['href', 'target']\n  })\n}\n\nexport const setAttributes = curry((attrs, el) => {\n  Object.keys(attrs).forEach(property => {\n    el.setAttribute(property, attrs[property])\n  })\n\n  return el\n})\n\nexport const resizeObserver = curry((element, cb) => {\n  const observer = new MutationObserver(cb)\n\n  observer.observe(element, { childList: true })\n  window.addEventListener('resize', cb)\n})\n","import { compose, curry, prop } from 'ramda'\nimport { createNode, appendNode, setAttributes, setStyles } from './dom'\n\nconst iframe = compose(\n  setAttributes({\n    'min-width': '100%',\n    seamless: '',\n    scrolling: 'no',\n    frameborder: '0'\n  }),\n  setStyles({\n    height: 'auto'\n  }),\n  createNode\n)\n\nconst createFrame = () => new Promise(resolve => resolve(iframe('iframe')))\n\nexport const sandboxWindow = prop('contentWindow')\nexport const sandboxDocument = compose(\n  prop('document'),\n  sandboxWindow\n)\n\nexport const resize = curry((anchor, frame) => {\n  const setFrameSize = () => setAttributes({ width: anchor.offsetWidth }, frame)\n\n  setFrameSize()\n\n  // Reset the width on window load\n  window.addEventListener('load', setFrameSize)\n\n  // Reset the width on viewport resize\n  window.addEventListener('resize', setFrameSize)\n\n  return frame\n})\n\nconst inject = curry(\n  (content, sandbox) =>\n    new Promise(resolve => {\n      const sdbxWindow = sandboxWindow(sandbox)\n      const doc = sandboxDocument(sandbox)\n\n      // transfer global window functions to sandbox\n      if (window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) {\n        sdbxWindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ =\n          window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n      }\n\n      const onLoad = () => {\n        if (doc.readyState === 'complete') {\n          return resolve(sandbox)\n        }\n\n        return setTimeout(onLoad, 150)\n      }\n\n      doc.open()\n      doc.write(content)\n      doc.close()\n\n      onLoad()\n    })\n)\n\nexport const sandbox = curry((anchor, content) =>\n  createFrame()\n    .then(appendNode(anchor))\n    .then(inject(content))\n)\n","import { createAction } from 'redux-actions'\nimport { INIT } from './types'\n\nexport const init = createAction(INIT)\n","/* eslint-disable no-console */\nimport { mergeDeepRight } from 'ramda'\n\nconst request = async url => fetch(url).then(res => res.json())\n\nexport default async (input = {}, additional = {}) => {\n  let config\n\n  try {\n    config = typeof input === 'string' ? await request(input) : input\n  } catch (err) {\n    throw new Error(`Couldn't parse configuration \"${input}\"`)\n  }\n\n  return mergeDeepRight(config, additional)\n}\n","/* global BASE, STYLES, SCRIPTS, MODE, VERSION */\nimport { propOr } from 'ramda'\nimport { sandbox } from '@podlove/utils/sandbox'\nimport { iframeResizer } from 'iframe-resizer'\n\n// eslint-disable-next-line\nimport iframeResizerContentWindow from 'raw-loader!iframe-resizer/js/iframeResizer.contentWindow.min.js'\nimport embedButtonDom from './embed.mustache'\n\nexport default async (config, entry) => {\n  const reference = MODE === 'cdn' ? BASE : propOr(BASE, 'base', config)\n\n  const buttonDom = embedButtonDom({\n    version: VERSION,\n    base: reference,\n    styles: STYLES,\n    scripts: SCRIPTS,\n    resizer: iframeResizerContentWindow\n  })\n\n  const subscribeButton = await sandbox(entry, buttonDom, { fullWidth: false })\n\n  iframeResizer(\n    {\n      checkOrigin: false,\n      log: false,\n      sizeWidth: true,\n      sizeHeight: true,\n      maxHeight: window.innerHeight - 20\n    },\n    subscribeButton\n  )\n\n  return subscribeButton\n}\n","import { setStyles, removeStyles } from '@podlove/utils/dom'\nimport * as select from 'store/selectors'\n\nconst overlayStyles = {\n  position: 'fixed',\n  width: '100%',\n  height: '100%',\n  top: 0,\n  left: 0\n}\n\nexport default (store, entry) => {\n  store.subscribe(() => {\n    const state = store.getState()\n    if (select.view.overlay(state)) {\n      setStyles(overlayStyles, entry)\n    } else {\n      removeStyles(Object.keys(overlayStyles), entry)\n    }\n  })\n}\n","import { prop } from 'ramda'\nimport { findNode } from '@podlove/utils/dom'\nimport { sandboxWindow } from '@podlove/utils/sandbox'\n\nimport { init } from '@podlove/button-actions/lifecycle'\nimport parseConfig from './src/embed/config'\nimport sandbox from './src/embed/sandbox'\nimport overlayStyle from './src/embed/overlay'\n\nasync function embed(selector, button, additional) {\n  const config = await parseConfig(button, additional)\n  const entry = findNode(selector)\n  const subscribeButton = await sandbox(config, entry)\n\n  const store = prop('PSB_STORE', sandboxWindow(subscribeButton))\n\n  store.dispatch(init(config))\n  overlayStyle(store, entry)\n\n  return store\n}\n\nif (typeof window['podloveSubscribeButton'] === 'undefined') {\n  window['podloveSubscribeButton'] = embed\n}\n","import { isNil } from 'ramda'\n\nexport const or = (p1, p2) => x => p1(x) || p2(x)\nexport const and = (p1, p2) => x => p1(x) && p2(x)\nexport const not = p => x => !p(x)\nexport const isUndefined = x => x === undefined\n\nexport const isUndefinedOrNull = or(isUndefined, isNil)\nexport const isDefinedAndNotNull = not(isUndefinedOrNull)\n","import { curry, map, compose, join, toUpper, juxt, head, tail, identity } from 'ramda'\nimport { isUndefinedOrNull } from './predicates'\n\n/**\n * Collection of functional helpers\n */\n\nexport const inAnimationFrame = func => (...args) =>\n  window.requestAnimationFrame(() => func.apply(null, args))\n\nexport const asyncAnimation = func => (...args) =>\n  new Promise(resolve => {\n    window.requestAnimationFrame(resolve(func.apply(null, args)))\n  })\n\nexport const callWith = (...args) => func => func.apply(null, args)\n\n// Math helpers\nexport const toInt = (input = 0) => (isNaN(parseInt(input, 10)) ? 0 : parseInt(input, 10))\nexport const toFloat = (input = 0) => (isNaN(parseFloat(input)) ? 0 : parseFloat(input))\n\n// Functional Helper\nexport const fallbackTo = fallback => value => (isUndefinedOrNull(value) ? fallback : value)\nexport const createObject = curry((specification, value) => map(f => f(value), specification))\nexport const scope = curry((selectors = {}, context = identity) =>\n  Object.keys(selectors).reduce(\n    (result, key) => ({\n      ...result,\n      [key]: compose(\n        selectors[key],\n        context\n      )\n    }),\n    {}\n  )\n)\nexport const startsWith = curry((q, str) => str.startsWith(q))\nexport const endsWith = curry((q, str) => str.endsWith(q))\nexport const stripl = curry((q, str) => (startsWith(q, str) ? str.slice(q.length) : str))\nexport const stripr = curry((q, str) =>\n  endsWith(q, str) ? str.slice(0, str.length - q.length) : str\n)\nexport const strip = curry((q, str) => stripl(q, stripr(q, str)))\nexport const capitalize = compose(\n  join(''),\n  juxt([\n    compose(\n      toUpper,\n      head\n    ),\n    tail\n  ])\n)\n","import { prop, compose, propOr, path } from 'ramda'\nimport { handleActions } from 'redux-actions'\nimport { createObject } from '@podlove/utils/helper'\nimport { INIT } from '@podlove/button-actions/types'\n\nconst theme = propOr({}, 'theme')\n\nconst TOKENS = {\n  brand: '#E64415',\n  brandDark: '#235973',\n  brandDarkest: '#1A3A4A',\n  brandLightest: '#E9F1F5',\n  shadeDark: '#807E7C',\n  shadeBase: '#807E7C',\n  contrast: '#000',\n  alt: '#fff'\n}\n\nexport const tokens = {\n  brand: propOr(TOKENS.brand, 'brand'),\n  brandDark: propOr(TOKENS.brandDark, 'brandDark'),\n  brandDarkest: propOr(TOKENS.brandDarkest, 'brandDarkest'),\n  brandLightest: propOr(TOKENS.brandLightest, 'brandLightest'),\n  shadeDark: propOr(TOKENS.shadeDark, 'shadeDark'),\n  shadeBase: propOr(TOKENS.shadeBase, 'shadeBase'),\n  contrast: propOr(TOKENS.contrast, 'contrast'),\n  alt: propOr(TOKENS.alt, 'alt')\n}\n\nexport const FONTS = {\n  ci: {\n    name: 'ci',\n    family: [\n      '-apple-system',\n      'BlinkMacSystemFont',\n      'Segoe UI',\n      'Roboto',\n      'Helvetica',\n      'Arial',\n      'sans-serif',\n      'Apple Color Emoji',\n      'Segoe UI Emoji\", \"Segoe UI Symbol'\n    ],\n    src: [],\n    weight: 800\n  },\n  regular: {\n    name: 'regular',\n    family: [\n      '-apple-system',\n      'BlinkMacSystemFont',\n      'Segoe UI',\n      'Roboto',\n      'Helvetica',\n      'Arial',\n      'sans-serif',\n      'Apple Color Emoji',\n      'Segoe UI Emoji\", \"Segoe UI Symbol'\n    ],\n    src: [],\n    weight: 300\n  },\n  bold: {\n    name: 'bold',\n    family: [\n      '-apple-system',\n      'BlinkMacSystemFont',\n      'Segoe UI',\n      'Roboto',\n      'Helvetica',\n      'Arial',\n      'sans-serif',\n      'Apple Color Emoji',\n      'Segoe UI Emoji\", \"Segoe UI Symbol'\n    ],\n    src: [],\n    weight: 700\n  }\n}\n\nconst normalizeFont = type =>\n  createObject({\n    family: propOr(path([type, 'family'], FONTS), 'family'),\n    weight: propOr(path([type, 'weight'], FONTS), 'weight'),\n    name: propOr(path([type, 'name'], FONTS), 'name'),\n    src: propOr([], 'src')\n  })\n\nconst extractFonts = createObject({\n  regular: compose(\n    normalizeFont('regular'),\n    propOr(FONTS.regular, 'regular'),\n    propOr({}, 'fonts'),\n    theme\n  ),\n  bold: compose(\n    normalizeFont('bold'),\n    propOr(FONTS.bold, 'bold'),\n    propOr({}, 'fonts'),\n    theme\n  ),\n  ci: compose(\n    normalizeFont('ci'),\n    propOr(FONTS.ci, 'ci'),\n    propOr({}, 'fonts'),\n    theme\n  )\n})\n\nconst getTokens = propOr({}, 'tokens')\n\nconst extractTokens = createObject({\n  brand: compose(\n    tokens.brand,\n    getTokens,\n    theme\n  ),\n  brandDark: compose(\n    tokens.brandDark,\n    getTokens,\n    theme\n  ),\n  brandDarkest: compose(\n    tokens.brandDarkest,\n    getTokens,\n    theme\n  ),\n  brandLightest: compose(\n    tokens.brandLightest,\n    getTokens,\n    theme\n  ),\n  shadeDark: compose(\n    tokens.shadeDark,\n    getTokens,\n    theme\n  ),\n  shadeBase: compose(\n    tokens.shadeBase,\n    getTokens,\n    theme\n  ),\n  contrast: compose(\n    tokens.contrast,\n    getTokens,\n    theme\n  ),\n  alt: compose(\n    tokens.alt,\n    getTokens,\n    theme\n  )\n})\n\nexport const INITIAL_STATE = {\n  tokens: TOKENS,\n  fonts: FONTS\n}\n\nexport const reducer = handleActions(\n  {\n    [INIT]: (_, { payload }) => ({\n      tokens: extractTokens(payload),\n      fonts: extractFonts(payload)\n    })\n  },\n  INITIAL_STATE\n)\n\nconst themeColors = propOr({}, 'tokens')\nconst themeFonts = propOr({}, 'fonts')\n\nexport const selectors = {\n  brand: compose(\n    prop('brand'),\n    themeColors\n  ),\n  brandDark: compose(\n    prop('brandDark'),\n    themeColors\n  ),\n  brandDarkest: compose(\n    prop('brandDarkest'),\n    themeColors\n  ),\n  brandLightest: compose(\n    prop('brandLightest'),\n    themeColors\n  ),\n  shadeDark: compose(\n    prop('shadeDark'),\n    themeColors\n  ),\n  shadeBase: compose(\n    prop('shadeBase'),\n    themeColors\n  ),\n  contrast: compose(\n    prop('contrast'),\n    themeColors\n  ),\n  alt: compose(\n    prop('alt'),\n    themeColors\n  ),\n  fontRegular: compose(\n    prop('regular'),\n    themeFonts\n  ),\n  fontBold: compose(\n    prop('bold'),\n    themeFonts\n  ),\n  fontCi: compose(\n    prop('ci'),\n    themeFonts\n  )\n}\n","import { compose, prop, propOr } from 'ramda'\n\nexport const feed = prop('feed')\nexport const clients = propOr([], 'clients')\nexport const services = propOr({}, 'services')\nexport const theme = propOr({}, 'theme')\n\nexport const runtime = propOr({}, 'runtime')\n\nexport const language = compose(\n  prop('language'),\n  runtime\n)\n","import { prop } from 'ramda'\nimport { handleActions } from 'redux-actions'\n\nimport {\n  SHOW_OVERLAY,\n  HIDE_OVERLAY,\n  SHOW_LIST,\n  SHOW_FINISH_CARD\n} from '@podlove/button-actions/types'\n\nexport const INITIAL_STATE = {\n  overlay: false,\n  finish: false,\n  list: true\n}\n\nexport const reducer = handleActions(\n  {\n    [SHOW_LIST]: state => ({ ...state, finish: false, list: true }),\n    [SHOW_OVERLAY]: state => ({ ...state, overlay: true }),\n    [HIDE_OVERLAY]: state => ({ ...state, overlay: false, finish: false, list: true }),\n    [SHOW_FINISH_CARD]: state => ({ ...state, list: false, finish: true })\n  },\n  INITIAL_STATE\n)\n\nexport const selectors = {\n  overlay: prop('overlay'),\n  finish: prop('finish'),\n  list: prop('list')\n}\n","import { prop } from 'ramda'\nimport { handleActions } from 'redux-actions'\n\nimport { HIDE_OVERLAY, SHOW_FINISH_CARD } from '@podlove/button-actions/types'\n\nexport const INITIAL_STATE = {\n  icon: null,\n  install: null,\n  title: null,\n  link: null,\n  os: null,\n  rss: null,\n  type: null\n}\n\nexport const reducer = handleActions(\n  {\n    [SHOW_FINISH_CARD]: (_, { payload }) => payload,\n    [HIDE_OVERLAY]: () => INITIAL_STATE\n  },\n  INITIAL_STATE\n)\n\nexport const selectors = {\n  overlay: prop('install'),\n  finish: prop('title'),\n  icon: prop('icon'),\n  link: prop('link'),\n  os: prop('os'),\n  rss: prop('rss'),\n  type: prop('type'),\n  install: prop('install')\n}\n","import { handleActions } from 'redux-actions'\nimport { propOr, prop } from 'ramda'\nimport { language } from '@podlove/button-config'\n\nimport { INIT, SET_LANGUAGE, SET_RUNTIME, SET_VERSION } from '@podlove/button-actions/types'\n\nexport const INITIAL_STATE = {\n  language: 'en',\n  browser: null,\n  locale: null,\n  platform: null,\n  version: null\n}\n\nexport const reducer = handleActions(\n  {\n    [SET_LANGUAGE]: (state, { payload }) => ({\n      ...state,\n      language: payload\n    }),\n    [SET_RUNTIME]: (state, { payload }) => ({\n      ...state,\n      browser: propOr(null, 'browser', payload),\n      locale: propOr(null, 'locale', payload),\n      platform: propOr(null, 'platform', payload),\n      language: propOr(null, 'language', payload)\n    }),\n    [SET_VERSION]: (state, { payload }) => ({\n      ...state,\n      version: payload\n    }),\n    [INIT]: (state, { payload }) => ({\n      ...state,\n      language: language(payload) || state.language\n    })\n  },\n  INITIAL_STATE\n)\n\nexport const selectors = {\n  language: prop('language'),\n  platform: prop('platform'),\n  locale: prop('locale'),\n  version: prop('version')\n}\n","export const PREFIX = `BUTTON`\n\nconst type = name => `${PREFIX}_${name}`\n\nexport const INIT = type('INIT')\n\nexport const SHOW_LIST = type('SHOW_LIST')\nexport const HIDE_LIST = type('HIDE_LIST')\n\nexport const SHOW_OVERLAY = type('SHOW_OVERLAY')\nexport const HIDE_OVERLAY = type('HIDE_OVERLAY')\n\nexport const SHOW_FINISH_CARD = type('SHOW_FINISH_CARD')\nexport const HIDE_FINISH_CARD = type('HIDE_FINISH_CARD')\n\nexport const SET_RUNTIME = type('SET_RUNTIME')\nexport const SET_LANGUAGE = type('SET_LANGUAGE')\nexport const SET_VERSION = type('SET_VERSION')\n","var H = require(\"hogan.js\");\nmodule.exports = function() { var T = new H.Template({code: function (c,p,i) { var t=this;t.b(i=i||\"\");t.b(\"<script type=\\\"text/javascript\\\">window.resourceBaseUrl = '\");t.b(t.v(t.f(\"base\",c,p,0)));t.b(\"';</script><div id=\\\"subscribe-button\\\"><subscribe-button></subscribe-button></div> \");if(t.s(t.f(\"styles\",c,p,1),c,p,0,160,214,\"{{ }}\")){t.rs(c,p,function(c,p,t){t.b(\" <link rel=\\\"stylesheet\\\" href=\\\"\");t.b(t.v(t.f(\"base\",c,p,0)));t.b(t.v(t.d(\".\",c,p,0)));t.b(\".css\\\"> \");});c.pop();}t.b(\" \");if(t.s(t.f(\"scripts\",c,p,1),c,p,0,238,307,\"{{ }}\")){t.rs(c,p,function(c,p,t){t.b(\" <script type=\\\"text/javascript\\\" src=\\\"\");t.b(t.v(t.f(\"base\",c,p,0)));t.b(t.v(t.d(\".\",c,p,0)));t.b(\".js\\\"></script> \");});c.pop();}t.b(\" <script>window.iFrameResizer = {\");t.b(\"\\n\" + i);t.b(\"    widthCalculationMethod: function () {\");t.b(\"\\n\" + i);t.b(\"      if (document.getElementById('breakout')) {\");t.b(\"\\n\" + i);t.b(\"        return window.parent.innerWidth\");t.b(\"\\n\" + i);t.b(\"      }\");t.b(\"\\n\");t.b(\"\\n\" + i);t.b(\"      return document.getElementById('subscribe-button').offsetWidth\");t.b(\"\\n\" + i);t.b(\"    },\");t.b(\"\\n\" + i);t.b(\"    heightCalculationMethod: function () {\");t.b(\"\\n\" + i);t.b(\"      if (document.getElementById('breakout')) {\");t.b(\"\\n\" + i);t.b(\"        return window.parent.innerHeight\");t.b(\"\\n\" + i);t.b(\"      }\");t.b(\"\\n\");t.b(\"\\n\" + i);t.b(\"      return document.getElementById('subscribe-button').offsetHeight\");t.b(\"\\n\" + i);t.b(\"    }\");t.b(\"\\n\" + i);t.b(\"  } \");t.b(t.t(t.f(\"resizer\",c,p,0)));t.b(\"</script><style>#subscribe-button {\");t.b(\"\\n\" + i);t.b(\"    display: inline-block;\");t.b(\"\\n\" + i);t.b(\"  }</style>\");return t.fl(); },partials: {}, subs: {  }}, \"<script type=\\\"text/javascript\\\">window.resourceBaseUrl = '{{ base }}';</script><div id=\\\"subscribe-button\\\"><subscribe-button></subscribe-button></div> {{#styles}} <link rel=\\\"stylesheet\\\" href=\\\"{{ base }}{{ . }}.css\\\"> {{/styles}} {{#scripts}} <script type=\\\"text/javascript\\\" src=\\\"{{ base }}{{ . }}.js\\\"></script> {{/scripts}} <script>window.iFrameResizer = {\\n    widthCalculationMethod: function () {\\n      if (document.getElementById('breakout')) {\\n        return window.parent.innerWidth\\n      }\\n\\n      return document.getElementById('subscribe-button').offsetWidth\\n    },\\n    heightCalculationMethod: function () {\\n      if (document.getElementById('breakout')) {\\n        return window.parent.innerHeight\\n      }\\n\\n      return document.getElementById('subscribe-button').offsetHeight\\n    }\\n  } {{{ resizer }}}</script><style>#subscribe-button {\\n    display: inline-block;\\n  }</style>\", H);return T.render.apply(T, arguments); };"],"sourceRoot":""}